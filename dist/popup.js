document.addEventListener("DOMContentLoaded",(function(){document.getElementById("settingsForm").addEventListener("submit",(function(e){e.preventDefault();const n={dyslexia:document.getElementById("dyslexia").checked,colorBlindness:document.getElementById("colorBlindness").checked,tremorDisorder:document.getElementById("tremorDisorder").checked,tunnelVision:document.getElementById("tunnelVision").checked,lowVision:document.getElementById("lowVision").checked,colorBlindnessType:document.querySelector('input[name="colorBlindnessType"]:checked')?.value||null,diopterValue:document.getElementById("diopterValue").value||null};chrome.runtime.sendMessage({action:"applySettings",settings:n})}));const e=document.getElementById("diopterValue"),n=document.getElementById("diopterOutput");e.addEventListener("input",(function(){n.textContent=e.value})),document.getElementById("colorBlindness").addEventListener("click",(function(){const e=document.getElementById("colorBlindness");document.getElementById("colorBlindnessOptions").style.display=e.checked?"block":"none"})),document.getElementById("lowVision").addEventListener("click",(function(){const e=document.getElementById("lowVision");document.getElementById("lowVisionSlider").style.display=e.checked?"block":"none"})),e.addEventListener("input",(function(){n.textContent=e.value}))}));